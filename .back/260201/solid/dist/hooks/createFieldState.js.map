{
  "version": 3,
  "sources": ["../../src/hooks/createFieldState.ts"],
  "sourcesContent": ["import { createSignal } from \"solid-js\";\n\n/**\n * createFieldState \uC635\uC158\n * @typeParam T - \uD544\uB4DC \uAC12\uC758 \uD0C0\uC785\n */\nexport interface FieldStateOptions<T> {\n  /**\n   * \uC678\uBD80\uC5D0\uC11C \uC804\uB2EC\uBC1B\uC740 value (getter\uB85C \uC811\uADFC\uD558\uC5EC \uBC18\uC751\uC131 \uC720\uC9C0)\n   */\n  value: () => T | undefined;\n  /**\n   * onChange \uCF5C\uBC31 (\uC788\uC73C\uBA74 controlled, \uC5C6\uC73C\uBA74 uncontrolled)\n   */\n  onChange: () => ((value: T | undefined) => void) | undefined;\n}\n\n/**\n * createFieldState \uBC18\uD658\uAC12\n * @typeParam T - \uD544\uB4DC \uAC12\uC758 \uD0C0\uC785\n */\nexport interface FieldState<T> {\n  /**\n   * \uD604\uC7AC \uAC12 (controlled\uBA74 \uC678\uBD80 value, uncontrolled\uBA74 \uB0B4\uBD80 \uC0C1\uD0DC)\n   */\n  currentValue: () => T | undefined;\n  /**\n   * \uAC12 \uC124\uC815 (controlled\uBA74 onChange \uD638\uCD9C, uncontrolled\uBA74 \uB0B4\uBD80 \uC0C1\uD0DC \uBCC0\uACBD)\n   */\n  setValue: (value: T | undefined) => void;\n  /**\n   * controlled \uBAA8\uB4DC \uC5EC\uBD80\n   */\n  isControlled: () => boolean;\n}\n\n/**\n * Field \uCEF4\uD3EC\uB10C\uD2B8\uC758 controlled/uncontrolled \uC0C1\uD0DC\uB97C \uAD00\uB9AC\uD558\uB294 \uD6C5\n *\n * **controlled \uBAA8\uB4DC** (onChange\uAC00 \uC788\uC744 \uB54C):\n * - currentValue()\uB294 \uC678\uBD80\uC5D0\uC11C \uC804\uB2EC\uBC1B\uC740 value\uB97C \uBC18\uD658\n * - setValue()\uB294 onChange\uB97C \uD638\uCD9C\n *\n * **uncontrolled \uBAA8\uB4DC** (onChange\uAC00 \uC5C6\uC744 \uB54C):\n * - currentValue()\uB294 \uB0B4\uBD80 \uC0C1\uD0DC\uB97C \uBC18\uD658 (\uCD08\uAE30\uAC12\uC740 \uCD5C\uCD08 \uD638\uCD9C \uC2DC\uC810\uC758 value)\n * - setValue()\uB294 \uB0B4\uBD80 \uC0C1\uD0DC\uB97C \uBCC0\uACBD\n * - \uC8FC\uC758: uncontrolled \uBAA8\uB4DC\uC5D0\uC11C\uB294 \uC678\uBD80 value prop \uBCC0\uACBD\uC774 \uBC18\uC601\uB418\uC9C0 \uC54A\uC74C\n *\n * **\uC124\uACC4 \uACB0\uC815**:\n * - options.value()\uC640 options.onChange()\uB294 getter \uD568\uC218\uB85C \uC804\uB2EC\uB418\uC5B4\n *   SolidJS\uC758 fine-grained reactivity\uB97C \uC720\uC9C0\uD568\n * - \uB9E4 \uC811\uADFC \uC2DC getter\uAC00 \uD638\uCD9C\uB418\uBBC0\uB85C props \uBCC0\uACBD\uC774 \uC989\uC2DC \uBC18\uC601\uB428\n *\n * @typeParam T - \uD544\uB4DC \uAC12\uC758 \uD0C0\uC785\n * @param options - \uD544\uB4DC \uC0C1\uD0DC \uC635\uC158\n * @returns \uD544\uB4DC \uC0C1\uD0DC \uAC1D\uCCB4\n *\n * @example\n * ```tsx\n * // SolidJS \uCEF4\uD3EC\uB10C\uD2B8 \uB0B4\uBD80\uC5D0\uC11C splitProps \uD6C4 \uC0AC\uC6A9\n * const [local, rest] = splitProps(props, [\"value\", \"onChange\"]);\n *\n * const fieldState = createFieldState({\n *   value: () => local.value,      // getter\uB85C \uC804\uB2EC\uD558\uC5EC \uBC18\uC751\uC131 \uC720\uC9C0\n *   onChange: () => local.onChange, // getter\uB85C \uC804\uB2EC\n * });\n *\n * // \uD604\uC7AC \uAC12 \uC77D\uAE30\n * const value = fieldState.currentValue();\n *\n * // \uAC12 \uBCC0\uACBD (controlled\uBA74 onChange \uD638\uCD9C, uncontrolled\uBA74 \uB0B4\uBD80 \uC0C1\uD0DC \uBCC0\uACBD)\n * fieldState.setValue(newValue);\n * ```\n */\nexport function createFieldState<T>(options: FieldStateOptions<T>): FieldState<T> {\n  // uncontrolled \uBAA8\uB4DC\uB97C \uC704\uD55C \uB0B4\uBD80 \uC0C1\uD0DC (value\uB97C \uCD08\uAE30\uAC12\uC73C\uB85C \uC0AC\uC6A9)\n  // eslint-disable-next-line solid/reactivity -- \uCD08\uAE30\uAC12 \uC124\uC815\uC5D0\uB9CC \uC0AC\uC6A9\n  const [internalValue, setInternalValue] = createSignal<T | undefined>(options.value());\n\n  const isControlled = () => options.onChange() !== undefined;\n\n  const currentValue = () => (isControlled() ? options.value() : internalValue());\n\n  const setValue = (value: T | undefined) => {\n    if (isControlled()) {\n      options.onChange()?.(value);\n    } else {\n      setInternalValue(() => value);\n    }\n  };\n\n  return {\n    currentValue,\n    setValue,\n    isControlled,\n  };\n}\n"],
  "mappings": "AAAA,SAAS,oBAAoB;AA0EtB,SAAS,iBAAoB,SAA8C;AAGhF,QAAM,CAAC,eAAe,gBAAgB,IAAI,aAA4B,QAAQ,MAAM,CAAC;AAErF,QAAM,eAAe,MAAM,QAAQ,SAAS,MAAM;AAElD,QAAM,eAAe,MAAO,aAAa,IAAI,QAAQ,MAAM,IAAI,cAAc;AAE7E,QAAM,WAAW,CAAC,UAAyB;AAnF7C;AAoFI,QAAI,aAAa,GAAG;AAClB,oBAAQ,SAAS,MAAjB,mBAAqB;AAAA,IACvB,OAAO;AACL,uBAAiB,MAAM,KAAK;AAAA,IAC9B;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;",
  "names": []
}

{
  "version": 3,
  "sources": ["../../../src/components/data/list-item.tsx"],
  "sourcesContent": ["import { children, type Component, createMemo, createSignal, type JSX, type ParentComponent, Show, splitProps } from \"solid-js\";\nimport { IconChevronLeft, type IconProps } from \"@tabler/icons-solidjs\";\nimport { Collapse } from \"../navigator/collapse\";\nimport { CollapseIcon } from \"../navigator/collapse-icon\";\nimport { listItem, listItemContent, type ListItemContentStyles } from \"./list-item.css\";\nimport { list } from \"./list.css\";\nimport { ripple } from \"../../directives/ripple\";\nimport { objPick } from \"@simplysm/core-common\";\nimport { themeVars } from \"../../styles/variables/theme.css\";\nimport { tokenVars } from \"../../styles/variables/token.css\";\nimport { combineStyle } from \"@solid-primitives/props\";\nimport { atoms } from \"../../styles/atoms.css\";\n\nvoid ripple;\n\n/**\n * ListItem \uCEF4\uD3EC\uB10C\uD2B8\uC758 props\n *\n * @property open - \uC911\uCCA9 \uB9AC\uC2A4\uD2B8\uC758 \uC5F4\uB9BC \uC0C1\uD0DC (onOpenChange\uC640 \uD568\uAED8 \uC0AC\uC6A9 \uC2DC controlled, \uB2E8\uB3C5 \uC0AC\uC6A9 \uC2DC \uCD08\uAE30\uAC12)\n * @property onOpenChange - \uC5F4\uB9BC \uC0C1\uD0DC \uBCC0\uACBD \uCF5C\uBC31 (\uC788\uC73C\uBA74 controlled \uBAA8\uB4DC)\n * @property selectedIcon - \uC120\uD0DD \uD45C\uC2DC \uC544\uC774\uCF58 \uCEF4\uD3EC\uB10C\uD2B8\n * @property icon - \uD56D\uBAA9 \uC55E\uC5D0 \uD45C\uC2DC\uD560 \uC544\uC774\uCF58 \uCEF4\uD3EC\uB10C\uD2B8\n */\nexport interface ListItemProps extends JSX.HTMLAttributes<HTMLDivElement>, ListItemContentStyles {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  selectedIcon?: Component<IconProps>;\n  icon?: Component<IconProps>;\n  children?: JSX.Element;\n}\n\n/**\n * \uB9AC\uC2A4\uD2B8 \uC544\uC774\uD15C \uCEF4\uD3EC\uB10C\uD2B8\n *\n * \uC911\uCCA9 \uB9AC\uC2A4\uD2B8\uB97C children\uC73C\uB85C \uD3EC\uD568\uD558\uBA74 \uC544\uCF54\uB514\uC5B8 \uB3D9\uC791\uC744 \uC9C0\uC6D0\uD55C\uB2E4.\n * controlled \uBAA8\uB4DC\uB85C \uC0AC\uC6A9\uD558\uB824\uBA74 open\uACFC onOpenChange\uB97C \uD568\uAED8 \uC81C\uACF5\uD55C\uB2E4.\n *\n * @example\n * ```tsx\n * // \uAE30\uBCF8 \uC0AC\uC6A9\n * <ListItem>\uB2E8\uC21C \uD56D\uBAA9</ListItem>\n *\n * // \uC120\uD0DD \uC0C1\uD0DC\n * <ListItem selected>\uC120\uD0DD\uB41C \uD56D\uBAA9</ListItem>\n *\n * // \uC120\uD0DD \uC544\uC774\uCF58\n * <ListItem selectedIcon={IconCheck} selected>\uC544\uC774\uCF58 \uC120\uD0DD</ListItem>\n *\n * // \uC911\uCCA9 \uB9AC\uC2A4\uD2B8 (\uC544\uCF54\uB514\uC5B8)\n * <ListItem>\n *   \uD3F4\uB354\n *   <List>\n *     <ListItem>\uD30C\uC77C</ListItem>\n *   </List>\n * </ListItem>\n * ```\n */\nexport const ListItem: ParentComponent<ListItemProps> = (props) => {\n  const [local, styleProps, rest] = splitProps(\n    props,\n    [\n      ...listItemContent.variants(),\n      \"open\",\n      \"onOpenChange\",\n      \"selectedIcon\",\n      \"icon\",\n      \"children\",\n    ],\n    [\"class\", \"style\"],\n  );\n\n  // uncontrolled \uBAA8\uB4DC\uB97C \uC704\uD55C \uB0B4\uBD80 \uC0C1\uD0DC (open\uC744 \uCD08\uAE30\uAC12\uC73C\uB85C \uC0AC\uC6A9)\n  // eslint-disable-next-line solid/reactivity -- \uCD08\uAE30\uAC12 \uC124\uC815\uC5D0\uB9CC \uC0AC\uC6A9\n  const [internalOpen, setInternalOpen] = createSignal(local.open ?? false);\n\n  // controlled \uBAA8\uB4DC(onOpenChange\uAC00 \uC788\uC73C\uBA74 controlled) vs uncontrolled \uBAA8\uB4DC\n  const isControlled = () => local.onOpenChange !== undefined;\n  const open = () => (isControlled() ? (local.open ?? false) : internalOpen());\n  const setOpen = (value: boolean) => {\n    if (isControlled()) {\n      local.onOpenChange?.(value);\n    } else {\n      setInternalOpen(value);\n    }\n  };\n\n  const resolved = children(() => local.children);\n\n  const parsed = createMemo(() => {\n    const arr = resolved.toArray();\n    let nestedList: Element | undefined;\n    const content: JSX.Element[] = [];\n\n    for (const c of arr) {\n      if (c instanceof HTMLElement && c.classList.contains(list.classNames.base)) {\n        nestedList = c;\n      } else {\n        content.push(c);\n      }\n    }\n\n    return { content, nestedList, hasChildren: nestedList !== undefined };\n  });\n  const content = () => parsed().content;\n  const nestedList = () => parsed().nestedList;\n  const hasChildren = () => parsed().hasChildren;\n\n  const useRipple = () => !local.disabled && !(local.layout === \"flat\" && hasChildren());\n\n  // selectedIcon \uC2A4\uD0C0\uC77C \uBA54\uBAA8\uC774\uC81C\uC774\uC158\n  const selectedIconStyle = createMemo(() => ({\n    color: local.selected\n      ? `rgb(${themeVars.control.primary.base})`\n      : `rgba(${themeVars.text.base}, ${tokenVars.overlay.base})`,\n  }));\n\n  const onContentClick = () => {\n    if (local.disabled) return;\n    setOpen(!open());\n  };\n\n  return (\n    <div class={listItem} {...rest}>\n      <div\n        use:ripple={useRipple()}\n        class={listItemContent({\n          ...objPick(local, listItemContent.variants()),\n          hasChildren: hasChildren(),\n          hasSelectedIcon: !!local.selectedIcon,\n        })}\n        data-list-item\n        role=\"treeitem\"\n        aria-expanded={hasChildren() ? open() : undefined}\n        aria-disabled={local.disabled || undefined}\n        tabIndex={0}\n        onClick={onContentClick}\n        onFocus={(e) => {\n          const treeRoot = e.currentTarget.closest(\"[role='tree']\");\n          treeRoot?.querySelectorAll(\"[data-list-item]\").forEach((el) => {\n            (el as HTMLElement).tabIndex = -1;\n          });\n          e.currentTarget.tabIndex = 0;\n        }}\n      >\n        <Show when={local.selectedIcon && !hasChildren()}>\n          {local.selectedIcon?.({ style: selectedIconStyle() })}\n        </Show>\n        <Show when={local.icon}>\n          {local.icon?.({})}\n        </Show>\n        <div\n          class={[atoms({ display: \"flex\", alignItems: \"center\" }), styleProps.class].filterExists().join(\" \")}\n          style={combineStyle(styleProps.style, { flex: 1 })}\n        >\n          {content()}\n        </div>\n        <Show when={hasChildren() && local.layout !== \"flat\"}>\n          <CollapseIcon icon={IconChevronLeft} open={open()} openRotate={-90} />\n        </Show>\n      </div>\n      <Show when={hasChildren()}>\n        <Collapse\n          open={local.layout === \"flat\" || open()}\n          class={atoms({ py: \"xs\" })}\n        >\n          {nestedList()}\n        </Collapse>\n      </Show>\n    </div>\n  );\n};\n"],
  "mappings": "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",
  "names": ["_a", "nestedList", "content"]
}

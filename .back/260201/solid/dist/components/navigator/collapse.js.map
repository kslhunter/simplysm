{
  "version": 3,
  "sources": ["../../../src/components/navigator/collapse.tsx"],
  "sourcesContent": ["import { createEffect, createSignal, type JSX, onCleanup, onMount, type ParentComponent, splitProps } from \"solid-js\";\nimport { collapse, type CollapseStyles } from \"./collapse.css\";\nimport { createResizeObserver } from \"@solid-primitives/resize-observer\";\nimport { objPick } from \"@simplysm/core-common\";\n\n/**\n * Collapse \uCEF4\uD3EC\uB10C\uD2B8\uC758 props\n * @property open - \uC5F4\uB9BC \uC0C1\uD0DC\n */\nexport interface CollapseProps extends JSX.HTMLAttributes<HTMLDivElement>, CollapseStyles {}\n\n/**\n * \uB192\uC774 \uC560\uB2C8\uBA54\uC774\uC158\uC73C\uB85C \uCF58\uD150\uCE20\uB97C \uD3BC\uCE58\uAC70\uB098 \uC811\uB294 \uCEF4\uD3EC\uB10C\uD2B8\n *\n * - \uC5F4\uB9BC/\uB2EB\uD798 \uC0C1\uD0DC\uC5D0 \uB530\uB77C \uB192\uC774\uB97C \uC870\uC808\uD558\uC5EC \uCF58\uD150\uCE20\uB97C \uD45C\uC2DC\uD558\uAC70\uB098 \uC228\uAE34\uB2E4\n * - \uC5F4\uB9B4 \uB54C \uCF58\uD150\uCE20 \uB192\uC774\uC5D0 \uB9DE\uCD94\uC5B4 \uC560\uB2C8\uBA54\uC774\uC158\uC744 \uC801\uC6A9\uD55C\uB2E4\n * - \uC5F4\uB9B0 \uC0C1\uD0DC\uC5D0\uC11C \uCF58\uD150\uCE20 \uD06C\uAE30\uAC00 \uBCC0\uACBD\uB418\uBA74 \uC790\uB3D9\uC73C\uB85C \uB192\uC774\uB97C \uB3D9\uAE30\uD654\uD55C\uB2E4\n *\n * `class`\uC640 `style` props\uB294 \uB0B4\uBD80 \uCF58\uD150\uCE20 \uC601\uC5ED\uC5D0 \uC801\uC6A9\uB418\uACE0,\n * \uADF8 \uC678 props\uB294 \uCD5C\uC678\uACFD \uC694\uC18C\uC5D0 \uC801\uC6A9\uB41C\uB2E4.\n *\n * @example\n * ```tsx\n * const [isOpen, setIsOpen] = createSignal(false);\n *\n * <button onClick={() => setIsOpen(!isOpen())}>\uD1A0\uAE00</button>\n * <Collapse open={isOpen()}>\n *   <p>\uC811\uC744 \uC218 \uC788\uB294 \uCF58\uD150\uCE20</p>\n * </Collapse>\n * ```\n */\nexport const Collapse: ParentComponent<CollapseProps> = (props) => {\n  const [local, styleProps, rest] = splitProps(props, [...collapse.variants(), \"children\"], [\"class\", \"style\"]);\n\n  let contentRef!: HTMLDivElement;\n\n  // \uCD08\uAE30 \uB9C8\uC6B4\uD2B8 \uC0C1\uD0DC \uCD94\uC801 (\uB9C8\uC6B4\uD2B8 \uC804\uC5D0\uB294 \uC560\uB2C8\uBA54\uC774\uC158 \uC5C6\uC774 \uC989\uC2DC \uB192\uC774 \uC124\uC815)\n  const [isMounted, setIsMounted] = createSignal(false);\n  // \uCD08\uAE30 open\uC774 true\uBA74 \"auto\"\uB85C \uC2DC\uC791\uD558\uC5EC \uAE5C\uBE61\uC784 \uBC29\uC9C0\n  // eslint-disable-next-line solid/reactivity -- \uCD08\uAE30\uAC12 \uC124\uC815\uC5D0\uB9CC \uC0AC\uC6A9 (reactivity \uBD88\uD544\uC694)\n  const [height, setHeight] = createSignal<string>(local.open ? \"auto\" : \"0px\");\n  const [contentHeight, setContentHeight] = createSignal<string>(\"0px\");\n\n  onMount(() => {\n    // \uCD08\uAE30 contentHeight \uB3D9\uAE30\uD654 (ResizeObserver \uCF5C\uBC31 \uC804\uC5D0 \uAC12 \uC124\uC815)\n    setContentHeight(`${contentRef.scrollHeight}px`);\n\n    // \uCD08\uAE30 \uC5F4\uB9BC \uC0C1\uD0DC\uC77C \uACBD\uC6B0 auto\uC5D0\uC11C \uC815\uD655\uD55C px\uB85C \uAD50\uCCB4 (\uC560\uB2C8\uBA54\uC774\uC158 \uC900\uBE44)\n    if (local.open) {\n      setHeight(`${contentRef.scrollHeight}px`);\n    }\n\n    createResizeObserver(contentRef, () => {\n      setContentHeight(`${contentRef.scrollHeight}px`);\n    });\n\n    // \uB2E4\uC74C \uD504\uB808\uC784\uC5D0\uC11C \uB9C8\uC6B4\uD2B8 \uC644\uB8CC \uD45C\uC2DC (\uC774\uD6C4\uBD80\uD130 \uC560\uB2C8\uBA54\uC774\uC158 \uC801\uC6A9)\n    const rafId = requestAnimationFrame(() => setIsMounted(true));\n    onCleanup(() => cancelAnimationFrame(rafId));\n  });\n\n  createEffect(() => {\n    // \uB9C8\uC6B4\uD2B8 \uC804\uC5D0\uB294 effect\uB97C \uAC74\uB108\uB6F4\uB2E4 (onMount\uC5D0\uC11C \uCD08\uAE30\uAC12 \uC124\uC815)\n    if (!isMounted()) return;\n    setHeight(local.open ? contentHeight() : \"0px\");\n  });\n\n  return (\n    <div\n      class={collapse(objPick(local, collapse.variants()))}\n      style={{ height: height() }}\n      data-collapsed={!local.open ? \"\" : undefined}\n      {...rest}\n    >\n      <div {...styleProps} ref={contentRef}>\n        {local.children}\n      </div>\n    </div>\n  );\n};\n"],
  "mappings": "AAAA,SAAS,cAAc,cAAwB,WAAW,SAA+B,kBAAkB;AAC3G,SAAS,gBAAqC;AAC9C,SAAS,4BAA4B;AACrC,SAAS,eAAe;AA4BjB,MAAM,WAA2C,CAAC,UAAU;AACjE,QAAM,CAAC,OAAO,YAAY,IAAI,IAAI,WAAW,OAAO,CAAC,GAAG,SAAS,SAAS,GAAG,UAAU,GAAG,CAAC,SAAS,OAAO,CAAC;AAE5G,MAAI;AAGJ,QAAM,CAAC,WAAW,YAAY,IAAI,aAAa,KAAK;AAGpD,QAAM,CAAC,QAAQ,SAAS,IAAI,aAAqB,MAAM,OAAO,SAAS,KAAK;AAC5E,QAAM,CAAC,eAAe,gBAAgB,IAAI,aAAqB,KAAK;AAEpE,UAAQ,MAAM;AAEZ,qBAAiB,GAAG,WAAW,YAAY,IAAI;AAG/C,QAAI,MAAM,MAAM;AACd,gBAAU,GAAG,WAAW,YAAY,IAAI;AAAA,IAC1C;AAEA,yBAAqB,YAAY,MAAM;AACrC,uBAAiB,GAAG,WAAW,YAAY,IAAI;AAAA,IACjD,CAAC;AAGD,UAAM,QAAQ,sBAAsB,MAAM,aAAa,IAAI,CAAC;AAC5D,cAAU,MAAM,qBAAqB,KAAK,CAAC;AAAA,EAC7C,CAAC;AAED,eAAa,MAAM;AAEjB,QAAI,CAAC,UAAU,EAAG;AAClB,cAAU,MAAM,OAAO,cAAc,IAAI,KAAK;AAAA,EAChD,CAAC;AAED,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,SAAS,QAAQ,OAAO,SAAS,SAAS,CAAC,CAAC;AAAA,MACnD,OAAO,EAAE,QAAQ,OAAO,EAAE;AAAA,MAC1B,kBAAgB,CAAC,MAAM,OAAO,KAAK;AAAA,MAClC,GAAG;AAAA;AAAA,IAEJ,oCAAC,SAAK,GAAG,YAAY,KAAK,cACvB,MAAM,QACT;AAAA,EACF;AAEJ;",
  "names": []
}

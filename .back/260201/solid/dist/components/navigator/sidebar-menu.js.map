{
  "version": 3,
  "sources": ["../../../src/components/navigator/sidebar-menu.tsx"],
  "sourcesContent": ["import \"@simplysm/core-common\";\nimport { type Component, createMemo, For, type JSX, Show, splitProps } from \"solid-js\";\nimport type { IconProps } from \"@tabler/icons-solidjs\";\nimport { useLocation, useNavigate } from \"@solidjs/router\";\nimport { sidebarMenu, sidebarMenuHeader, sidebarMenuList } from \"./sidebar-menu.css\";\nimport { List } from \"../data/list\";\nimport { ListItem } from \"../data/list-item\";\nimport { useSidebar } from \"./sidebar-context\";\nimport { MOBILE_BREAKPOINT_PX } from \"../../constants\";\nimport { atoms } from \"../../styles/atoms.css\";\nimport { buildHref } from \"../../utils/build-href\";\n\n/**\n * \uC0AC\uC774\uB4DC\uBC14 \uBA54\uB274 \uC544\uC774\uD15C \uD0C0\uC785\n *\n * @property title - \uBA54\uB274 \uD45C\uC2DC \uC774\uB984\n * @property path - \uB77C\uC6B0\uD130 \uACBD\uB85C \uB610\uB294 \uC678\uBD80 URL (://\uD3EC\uD568 \uC2DC \uC0C8 \uD0ED\uC5D0\uC11C \uC5F4\uB9BC)\n * @property icon - \uBA54\uB274 \uC544\uC774\uCF58 \uCEF4\uD3EC\uB10C\uD2B8 (@tabler/icons-solidjs)\n * @property children - \uD558\uC704 \uBA54\uB274 \uBAA9\uB85D\n */\nexport interface SidebarMenuItem {\n  title: string;\n  path?: string;\n  icon?: Component<IconProps>;\n  children?: SidebarMenuItem[];\n}\n\n/**\n * SidebarMenu \uCEF4\uD3EC\uB10C\uD2B8\uC758 props\n *\n * @property menus - \uBA54\uB274 \uC544\uC774\uD15C \uBAA9\uB85D\n * @property layout - \uBA54\uB274 \uB808\uC774\uC544\uC6C3 (accordion: \uC544\uCF54\uB514\uC5B8, flat: \uD56D\uC0C1 \uD3BC\uCE68).\n *                    \uC0DD\uB7B5 \uC2DC \uBA54\uB274 \uAC1C\uC218\uC5D0 \uB530\uB77C \uC790\uB3D9 \uC120\uD0DD (3\uAC1C \uC774\uD558: flat, 4\uAC1C \uC774\uC0C1: accordion)\n */\nexport interface SidebarMenuProps extends Omit<JSX.HTMLAttributes<HTMLElement>, \"children\"> {\n  menus: SidebarMenuItem[];\n  layout?: \"accordion\" | \"flat\";\n}\n\n/**\n * \uC0AC\uC774\uB4DC\uBC14 \uBA54\uB274 \uCEF4\uD3EC\uB10C\uD2B8\n *\n * Sidebar \uB0B4\uBD80\uC5D0\uC11C \uB124\uBE44\uAC8C\uC774\uC158 \uBA54\uB274\uB97C \uD45C\uC2DC\uD55C\uB2E4.\n * \uBA54\uB274 \uC120\uD0DD\uC740 \uD604\uC7AC \uB77C\uC6B0\uD130 \uACBD\uB85C(`location.pathname`)\uC640 \uBA54\uB274\uC758 `path`\uB97C \uBE44\uAD50\uD558\uC5EC \uC790\uB3D9\uC73C\uB85C \uACB0\uC815\uB41C\uB2E4.\n *\n * @example\n * ```tsx\n * <SidebarMenu\n *   menus={[\n *     { title: \"\uD648\", path: \"/\", icon: IconHome },\n *     { title: \"\uC124\uC815\", children: [\n *       { title: \"\uD504\uB85C\uD544\", path: \"/settings/profile\" },\n *     ]},\n *   ]}\n * />\n * ```\n */\nexport const SidebarMenu: Component<SidebarMenuProps> = (props) => {\n  const [local, rest] = splitProps(props, [\"menus\", \"layout\"]);\n  const effectiveLayout = createMemo(() => {\n    if (local.layout !== undefined) return local.layout;\n    return local.menus.length <= 3 ? \"flat\" : \"accordion\";\n  });\n\n  const { setToggled } = useSidebar();\n\n  // \uB124\uBE44\uAC8C\uC774\uC158 \uD568\uC218\n  const navigate = useNavigate();\n\n  // \uBA54\uB274 \uD074\uB9AD \uD578\uB4E4\uB7EC\n  const handleMenuClick = (menu: SidebarMenuItem, event: MouseEvent) => {\n    if (menu.path == null) return;\n\n    // \uC678\uBD80 URL\uC740 \uC0C8 \uD0ED\uC5D0\uC11C \uC5F4\uAE30\n    if (menu.path.includes(\"://\")) {\n      window.open(menu.path, \"_blank\");\n      return;\n    }\n\n    // Ctrl/Alt \uD0A4: \uC0C8 \uD0ED\uC73C\uB85C \uC5F4\uAE30 (\uC0AC\uC774\uB4DC\uBC14 \uC720\uC9C0)\n    if (event.ctrlKey || event.altKey) {\n      window.open(buildHref(menu.path), \"_blank\");\n      return;\n    }\n    // Shift \uD0A4: \uC0C8 \uCC3D\uC73C\uB85C \uC5F4\uAE30 (\uC0AC\uC774\uB4DC\uBC14 \uC720\uC9C0)\n    if (event.shiftKey) {\n      window.open(buildHref(menu.path), \"_blank\", \"width=800,height=800\");\n      return;\n    }\n    // \uC77C\uBC18 \uD074\uB9AD: SPA \uB124\uBE44\uAC8C\uC774\uC158\n    navigate(menu.path);\n\n    // \uBAA8\uBC14\uC77C\uC5D0\uC11C \uC0AC\uC774\uB4DC\uBC14 \uC228\uAE30\uAE30 (toggled=false \u2192 \uBAA8\uBC14\uC77C: \uC228\uAE40)\n    if (window.innerWidth <= MOBILE_BREAKPOINT_PX) {\n      setToggled(false);\n    }\n  };\n\n  return (\n    <nav {...rest} class={[sidebarMenu, rest.class].filterExists().join(\" \")}>\n      <div class={sidebarMenuHeader}>MENU</div>\n      <List inset class={sidebarMenuList}>\n        <For each={local.menus}>\n          {(menu) => (\n            <MenuItemRenderer menu={menu} depth={0} layout={effectiveLayout()} onMenuClick={handleMenuClick} />\n          )}\n        </For>\n      </List>\n    </nav>\n  );\n};\n\ninterface MenuItemRendererProps {\n  menu: SidebarMenuItem;\n  depth: number;\n  layout: \"accordion\" | \"flat\";\n  parentLayout?: \"accordion\" | \"flat\";\n  onMenuClick: (menu: SidebarMenuItem, event: MouseEvent) => void;\n}\n\n/**\n * \uC7AC\uADC0\uC801\uC73C\uB85C \uBA54\uB274 \uC544\uC774\uD15C\uC744 \uB80C\uB354\uB9C1\uD558\uB294 \uB0B4\uBD80 \uCEF4\uD3EC\uB10C\uD2B8\n */\nconst MenuItemRenderer: Component<MenuItemRendererProps> = (props) => {\n  const location = useLocation();\n\n  const hasChildren = () => (props.menu.children?.length ?? 0) > 0;\n\n  return (\n    <ListItem\n      layout={props.layout}\n      selected={location.pathname === props.menu.path}\n      style={{ \"text-indent\": `${props.parentLayout === \"accordion\" && props.depth !== 0 ? (props.depth + 1) * 0.5 : 0}rem` }}\n      class={atoms({ gap: \"xs\" })}\n      onClick={(event) => props.onMenuClick(props.menu, event)}\n    >\n      <Show when={props.menu.icon} keyed>\n        {(icon) => icon({})}\n      </Show>\n      <div>{props.menu.title}</div>\n      <Show when={hasChildren()}>\n        <List inset>\n          <For each={props.menu.children}>\n            {(child) => (\n              <MenuItemRenderer\n                menu={child}\n                depth={props.depth + 1}\n                layout=\"accordion\"\n                parentLayout={props.layout}\n                onMenuClick={props.onMenuClick}\n              />\n            )}\n          </For>\n        </List>\n      </Show>\n    </ListItem>\n  );\n};\n"],
  "mappings": "AAAA,OAAO;AACP,SAAyB,YAAY,KAAe,MAAM,kBAAkB;AAE5E,SAAS,aAAa,mBAAmB;AACzC,SAAS,aAAa,mBAAmB,uBAAuB;AAChE,SAAS,YAAY;AACrB,SAAS,gBAAgB;AACzB,SAAS,kBAAkB;AAC3B,SAAS,4BAA4B;AACrC,SAAS,aAAa;AACtB,SAAS,iBAAiB;AA+CnB,MAAM,cAA2C,CAAC,UAAU;AACjE,QAAM,CAAC,OAAO,IAAI,IAAI,WAAW,OAAO,CAAC,SAAS,QAAQ,CAAC;AAC3D,QAAM,kBAAkB,WAAW,MAAM;AACvC,QAAI,MAAM,WAAW,OAAW,QAAO,MAAM;AAC7C,WAAO,MAAM,MAAM,UAAU,IAAI,SAAS;AAAA,EAC5C,CAAC;AAED,QAAM,EAAE,WAAW,IAAI,WAAW;AAGlC,QAAM,WAAW,YAAY;AAG7B,QAAM,kBAAkB,CAAC,MAAuB,UAAsB;AACpE,QAAI,KAAK,QAAQ,KAAM;AAGvB,QAAI,KAAK,KAAK,SAAS,KAAK,GAAG;AAC7B,aAAO,KAAK,KAAK,MAAM,QAAQ;AAC/B;AAAA,IACF;AAGA,QAAI,MAAM,WAAW,MAAM,QAAQ;AACjC,aAAO,KAAK,UAAU,KAAK,IAAI,GAAG,QAAQ;AAC1C;AAAA,IACF;AAEA,QAAI,MAAM,UAAU;AAClB,aAAO,KAAK,UAAU,KAAK,IAAI,GAAG,UAAU,sBAAsB;AAClE;AAAA,IACF;AAEA,aAAS,KAAK,IAAI;AAGlB,QAAI,OAAO,cAAc,sBAAsB;AAC7C,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,SACE,oCAAC,SAAK,GAAG,MAAM,OAAO,CAAC,aAAa,KAAK,KAAK,EAAE,aAAa,EAAE,KAAK,GAAG,KACrE,oCAAC,SAAI,OAAO,qBAAmB,MAAI,GACnC,oCAAC,QAAK,OAAK,MAAC,OAAO,mBACjB,oCAAC,OAAI,MAAM,MAAM,SACd,CAAC,SACA,oCAAC,oBAAiB,MAAY,OAAO,GAAG,QAAQ,gBAAgB,GAAG,aAAa,iBAAiB,CAErG,CACF,CACF;AAEJ;AAaA,MAAM,mBAAqD,CAAC,UAAU;AACpE,QAAM,WAAW,YAAY;AAE7B,QAAM,cAAc,MAAG;AA9HzB;AA8H6B,yBAAM,KAAK,aAAX,mBAAqB,WAAU,KAAK;AAAA;AAE/D,SACE;AAAA,IAAC;AAAA;AAAA,MACC,QAAQ,MAAM;AAAA,MACd,UAAU,SAAS,aAAa,MAAM,KAAK;AAAA,MAC3C,OAAO,EAAE,eAAe,GAAG,MAAM,iBAAiB,eAAe,MAAM,UAAU,KAAK,MAAM,QAAQ,KAAK,MAAM,CAAC,MAAM;AAAA,MACtH,OAAO,MAAM,EAAE,KAAK,KAAK,CAAC;AAAA,MAC1B,SAAS,CAAC,UAAU,MAAM,YAAY,MAAM,MAAM,KAAK;AAAA;AAAA,IAEvD,oCAAC,QAAK,MAAM,MAAM,KAAK,MAAM,OAAK,QAC/B,CAAC,SAAS,KAAK,CAAC,CAAC,CACpB;AAAA,IACA,oCAAC,aAAK,MAAM,KAAK,KAAM;AAAA,IACvB,oCAAC,QAAK,MAAM,YAAY,KACtB,oCAAC,QAAK,OAAK,QACT,oCAAC,OAAI,MAAM,MAAM,KAAK,YACnB,CAAC,UACA;AAAA,MAAC;AAAA;AAAA,QACC,MAAM;AAAA,QACN,OAAO,MAAM,QAAQ;AAAA,QACrB,QAAO;AAAA,QACP,cAAc,MAAM;AAAA,QACpB,aAAa,MAAM;AAAA;AAAA,IACrB,CAEJ,CACF,CACF;AAAA,EACF;AAEJ;",
  "names": []
}

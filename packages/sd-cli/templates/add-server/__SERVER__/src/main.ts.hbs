import { env } from "@simplysm/core-common";
import { ServiceServer } from "@simplysm/service-server";

export const server = new ServiceServer({
  rootPath: process.cwd(),
  port: {{port}},
  services: [],
});

// 프로덕션 모드: 정적 파일 서빙 포함하여 직접 listen
// Watch 모드 (env.DEV): Server Runtime Worker가 proxy 설정 후 listen 호출
if (!env.DEV) {
  await server.listen();
}
